% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/thin_records.R
\name{thin_records}
\alias{thin_records}
\title{Thin spatial records by minimum distance}
\usage{
thin_records(data, lonlat = c("lon", "lat"), thin.par, reps = 10)
}
\arguments{
\item{data}{A data.frame, tibble, matrix, or terra::SpatVector containing
point coordinates. For tabular inputs, columns defined by \code{lonlat} must be
present.}

\item{lonlat}{Character vector of length 2 giving the longitude and latitude
column names for tabular inputs. Ignored when \code{data} is a SpatVector.}

\item{thin.par}{Numeric. Minimum allowed distance between any two records. The
interpretation of units follows terra::distance (great-circle distance for
lon/lat coordinates; kilometers when \code{unit = "km"} is used).}

\item{reps}{Integer. Number of replicate thinnings to attempt; the best
solution (maximizing retained records, then mean pairwise distance) is
returned.}
}
\value{
An object of the same class as \code{data} containing only the retained
records after thinning.
}
\description{
Performs spatial thinning on point data to ensure a minimum separation between
records. The algorithm iteratively removes the record with the highest number
of neighbors within the threshold, repeats for a number of replicates, and
returns the best solution.
}
\details{
Distances are computed with terra::distance. For data.frames/tibbles
the coordinates are assumed to be longitude/latitude in decimal degrees
(great-circle distance). For matrices and SpatVectors distances are computed
in kilometers in this implementation.
}
\examples{
\dontrun{
set.seed(1)
pts <- data.frame(lon = runif(50, -80, -79), lat = runif(50, 8, 9))
thn <- thin_records(pts, thin.par = 10, reps = 5)
nrow(pts); nrow(thn)
}
}
